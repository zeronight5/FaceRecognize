# 人脸识别系统 - 前端界面

这是一个基于纯HTML/CSS/JavaScript开发的人脸识别系统前端界面，无需Node.js或任何构建工具。

## 功能特性

✅ **人脸注册** - 支持拖拽/点击上传图片，填写人员信息  
✅ **人脸识别** - 上传图片进行1:N人脸搜索，可调节阈值  
✅ **人脸管理** - 查看已注册人脸列表，支持搜索和删除  
✅ **实时状态** - 自动检测后端服务连接状态  
✅ **响应式设计** - 支持PC和移动端访问

## 快速开始

### 方法1: 直接打开HTML文件

1. 确保后端服务已启动（默认端口8080）
2. 双击打开 `index.html` 文件
3. 开始使用

### 方法2: 使用本地Web服务器

使用Python自带的HTTP服务器：

```bash
# 进入fe目录
cd fe

# Python 3
python -3 -m http.server 8000

# Python 2
python -m SimpleHTTPServer 8000
```

然后在浏览器访问: `http://localhost:8000`

### 方法3: 使用Live Server (VS Code)

1. 在VS Code中安装 "Live Server" 扩展
2. 右键点击 `index.html`
3. 选择 "Open with Live Server"

## 目录结构

```
fe/
├── index.html          # 主页面
├── css/
│   └── style.css       # 样式文件
├── js/
│   ├── config.js       # 配置文件
│   ├── utils.js        # 工具函数
│   ├── api.js          # API调用封装
│   └── main.js         # 主程序逻辑
└── README.md           # 说明文档
```

## 配置说明

### 修改后端API地址

如果后端服务不在本地或使用了不同端口，请修改 `js/config.js`:

```javascript
const CONFIG = {
    // 修改为实际的后端地址
    API_BASE_URL: 'http://your-server-ip:8080/api',
    ...
};
```

### 默认参数

```javascript
DEFAULTS: {
    THRESHOLD: 0.6,    // 默认相似度阈值
    TOP_K: 5           // 默认返回结果数
}
```

### 上传限制

```javascript
UPLOAD: {
    MAX_SIZE: 10 * 1024 * 1024,  // 最大10MB
    ACCEPTED_TYPES: ['image/jpeg', 'image/jpg', 'image/png']
}
```

## 使用说明

### 1. 注册人脸

1. 点击"注册人脸"标签页
2. 填写人员信息（姓名、编号必填）
3. 上传清晰的正面人脸照片
4. 点击"注册人脸"按钮

**建议**:
- 使用清晰、光线充足的照片
- 确保人脸正对镜头
- 避免佩戴墨镜、口罩等遮挡物

### 2. 识别人脸

1. 点击"识别人脸"标签页
2. 上传待识别的图片
3. 调整相似度阈值（可选）
4. 选择返回结果数量
5. 点击"开始识别"

**参数说明**:
- **相似度阈值**: 0.5-0.6宽松，0.6-0.7平衡，0.7-0.8严格
- **返回结果数**: 显示最相似的前N个结果

### 3. 人脸管理

1. 点击"人脸管理"标签页
2. 查看所有已注册的人脸
3. 使用搜索框过滤结果
4. 点击删除按钮移除不需要的人脸

## 浏览器兼容性

- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+

## 常见问题

### 1. 服务状态显示"离线"

**解决方案**:
- 确认后端服务已启动
- 检查 `config.js` 中的API地址是否正确
- 查看浏览器控制台是否有CORS错误

### 2. 上传图片失败

**可能原因**:
- 图片格式不支持（只支持JPG、PNG）
- 图片大小超过10MB
- 后端服务未启动

### 3. CORS跨域问题

如果使用 `file://` 协议打开HTML，可能遇到跨域问题。

**解决方案**:
1. 使用本地Web服务器（推荐）
2. 或在后端添加CORS配置（已在后端默认开启）

### 4. 识别没有结果

**检查项**:
- 人脸库中是否有数据
- 相似度阈值是否设置过高
- 上传的图片质量是否良好

## 界面截图预览

### 注册人脸
- 拖拽上传支持
- 表单验证
- 实时预览

### 识别人脸
- 参数可调节
- 相似度可视化
- 匹配结果展示

### 人脸管理
- 列表展示
- 搜索过滤
- 快速删除

## 技术栈

- **HTML5** - 页面结构
- **CSS3** - 样式和动画
- **JavaScript (ES6+)** - 交互逻辑
- **Fetch API** - HTTP请求
- **FileReader API** - 文件读取
- **Font Awesome** - 图标库

## 自定义开发

### 添加新功能

1. 在 `api.js` 中添加新的API调用方法
2. 在 `main.js` 中实现业务逻辑
3. 在 `index.html` 中添加UI元素
4. 在 `style.css` 中添加样式

### 修改样式主题

在 `css/style.css` 的 `:root` 中修改CSS变量:

```css
:root {
    --primary-color: #4a90e2;  /* 主色调 */
    --success-color: #52c41a;  /* 成功色 */
    --error-color: #f5222d;    /* 错误色 */
    ...
}
```

## 性能优化建议

1. **图片压缩**: 上传前压缩大图片
2. **懒加载**: 人脸列表数据量大时可实现分页
3. **缓存**: 使用localStorage缓存配置
4. **防抖**: 搜索输入已实现防抖优化

## 安全建议

⚠️ **生产环境部署注意事项**:

1. 启用HTTPS
2. 添加用户认证
3. 实现API访问限流
4. 敏感信息加密传输

## License

MIT License

## 联系支持

如有问题或建议，请联系开发团队。
